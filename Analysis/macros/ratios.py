
xsec_8TeV = [
        [
            500.0, 
            0.0962
        ], 
        [
            750.0, 
            0.01247
        ], 
        [
            1000.0, 
            0.002482
        ], 
        [
            1250.0, 
            0.0006359
        ], 
        [
            1500.0, 
            0.0002008
        ], 
        [
            1750.0, 
            6.721e-05
        ], 
        [
            1800.0, 
            5.477e-05
        ], 
        [
            2000.0, 
            2.314e-05
        ], 
        [
            2500.0, 
            3.561e-06
        ], 
        [
            3000.0, 
            5.691e-07
        ], 
        [
            3500.0, 
            9.445e-08
        ], 
        [
            4000.0, 
            1.548e-08
        ]
    ]


xsec_13TeV = [
        [
            500.0, 
            0.3407
        ], 
        [
            625.0, 
            0.1206
        ], 
        [
            750.0, 
            0.05134
        ], 
        [
            875.0, 
            0.02361
        ], 
        [
            1000.0, 
            0.01205
        ], 
        [
            1125.0, 
            0.006585
        ], 
        [
            1250.0, 
            0.003726
        ], 
        [
            1375.0, 
            0.002216
        ], 
        [
            1500.0, 
            0.001342
        ], 
        [
            1625.0, 
            0.000854
        ], 
        [
            1750.0, 
            0.0005532
        ], 
        [
            1875.0, 
            0.0003597
        ], 
        [
            2000.0, 
            0.0002418
        ], 
        [
            2125.0, 
            0.0001655
        ], 
        [
            2250.0, 
            0.0001137
        ], 
        [
            2375.0, 
            7.92e-05
        ], 
        [
            2500.0, 
            5.638e-05
        ], 
        [
            2625.0, 
            4.016e-05
        ], 
        [
            2750.0, 
            2.853e-05
        ], 
        [
            2875.0, 
            2.066e-05
        ], 
        [
            3000.0, 
            1.506e-05
        ], 
        [
            3625.0, 
            3.295e-06
        ], 
        [
            3750.0, 
            2.432e-06
        ], 
        [
            3875.0, 
            1.817e-06
        ], 
        [
            4000.0, 
            1.36e-06
        ], 
        [
            4125.0, 
            1.011e-06
        ], 
        [
            4250.0, 
            7.71e-07
        ], 
        [
            4500.0, 
            4.378e-07
        ], 
        [
            4625.0, 
            3.309e-07
        ], 
        [
            4750.0, 
            2.496e-07
        ], 
        [
            5000.0, 
            1.414e-07
        ], 
        [
            5125.0, 
            1.074e-07
        ], 
        [
            5250.0, 
            8.18e-08
        ], 
        [
            5375.0, 
            6.176e-08
        ], 
        [
            5500.0, 
            4.734e-08
        ], 
        [
            5625.0, 
            3.567e-08
        ], 
        [
            5750.0, 
            2.703e-08
        ], 
        [
            5875.0, 
            2.067e-08
        ], 
        [
            6000.0, 
            1.565e-08
        ], 
        [
            6125.0, 
            1.194e-08
        ], 
        [
            6250.0, 
            8.993e-09
        ], 
        [
            6375.0, 
            6.918e-09
        ], 
        [
            6500.0, 
            5.245e-09
        ], 
        [
            6625.0, 
            4.004e-09
        ], 
        [
            6750.0, 
            3.052e-09
        ], 
        [
            6875.0, 
            2.363e-09
        ], 
        [
            7000.0, 
            1.781e-09
        ]
]

map_13TeV = {}
map_8TeV = {}

for mass,val in xsec_13TeV:
    map_13TeV[mass] = val


import ROOT

gr = ROOT.TGraph()

for mass,val in xsec_8TeV:
    if not mass in map_13TeV: continue
    val /= map_13TeV[mass]
    map_8TeV[mass] = val
    
    gr.SetPoint(gr.GetN(),mass,val)

func = ROOT.TF1("func","[0]+[1]*x+[2]*x*x + [3]*x*x*x")
gr.Fit(func)

gr.SetMarkerSize(1.2)
gr.SetMarkerStyle(ROOT.kFullCircle)
gr.GetXaxis().SetTitle("m_{G} (GeV)")
gr.GetYaxis().SetTitle("#sigma_{8TeV} / #sigma_{13TeV}")

canv = ROOT.TCanvas("xsec_ratio","xsec_ratio")

gr.Draw("ap")
##func = gr.GetListOfFunctions().At(0)
print func.GetExpFormula("par")

print map_8TeV
 
canv.SaveAs("%s.png" % canv.GetName())
canv.SaveAs("%s.root" % canv.GetName())
